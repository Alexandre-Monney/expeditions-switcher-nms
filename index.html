<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NMS Expedition Manager</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <div id="setup-screen" class="screen hidden">
            <div class="setup-container">
                <h1>NMS Expedition Manager</h1>
                <p class="setup-description">Configurons votre plateforme de jeu pour commencer</p>
                
                <div class="platform-selection">
                    <h3>S√©lectionnez votre plateforme :</h3>
                    <div class="platform-options">
                        <button class="platform-btn" data-platform="steam">
                            <div class="platform-logo">
                                <img src="assets/images/steam-logo.png" alt="Steam">
                            </div>
                            <div class="platform-info">
                                <strong>Steam</strong>
                                <span>Version Steam de No Man's Sky</span>
                            </div>
                        </button>
                        <button class="platform-btn" data-platform="msstore">
                            <div class="platform-logo">
                                <img src="assets/images/microsoft-logo.png" alt="Microsoft Store">
                            </div>
                            <div class="platform-info">
                                <strong>Microsoft Store</strong>
                                <span>Version Windows Store</span>
                            </div>
                        </button>
                        <button class="platform-btn" data-platform="gog">
                            <div class="platform-logo">
                                <img src="assets/images/gog-logo.png" alt="GOG">
                            </div>
                            <div class="platform-info">
                                <strong>GOG</strong>
                                <span>Version GOG de No Man's Sky</span>
                            </div>
                        </button>
                        <button class="platform-btn" data-platform="gamepass">
                            <div class="platform-logo">
                                <img src="assets/images/gamepass-logo.png" alt="Xbox Game Pass">
                            </div>
                            <div class="platform-info">
                                <strong>Xbox Game Pass</strong>
                                <span>Version Game Pass PC</span>
                            </div>
                        </button>
                    </div>
                </div>

                <div id="steam-section" class="steam-section hidden">
                    <h3>Configuration Steam :</h3>
                    <div id="steam-detection" class="steam-detection">
                        <button id="detect-steam-btn" class="detect-btn">üîç D√©tecter automatiquement</button>
                        <div id="steam-results" class="steam-results"></div>
                    </div>
                </div>

                <div class="setup-actions">
                    <button id="setup-continue-btn" class="continue-btn" disabled>Continuer</button>
                </div>
            </div>
        </div>

        <div id="main-screen" class="screen hidden">
            <div class="main-header">
                <h1>NMS Expedition Manager</h1>
                <div class="current-platform">
                    <span id="current-platform-info">Chargement...</span>
                    <button id="change-platform-btn" class="change-platform-btn">‚öôÔ∏è Changer de plateforme</button>
                </div>
            </div>
            <div id="main-content">
                <div id="status-section" class="status-section">
                    <div id="current-status" class="current-status">
                        <div class="status-header">
                            <h2>√âtat Actuel</h2>
                            <button id="refresh-status-btn" class="refresh-btn">üîÑ</button>
                        </div>
                        <div id="status-info" class="status-info">
                            <div class="loading-spinner"></div>
                            <span>V√©rification de l'√©tat...</span>
                        </div>
                    </div>
                </div>

                <div id="expedition-section" class="expedition-section">
                    <div class="expedition-header">
                        <h2>Gestion des Exp√©ditions</h2>
                        <div class="status-indicators">
                            <div id="steam-status" class="steam-status hidden">
                                <span class="status-indicator" id="steam-status-indicator">‚óè</span>
                                <span id="steam-status-text">V√©rification Steam...</span>
                            </div>
                            <div id="nms-status" class="nms-status">
                                <span class="status-indicator" id="nms-status-indicator">‚óè</span>
                                <span id="nms-status-text">V√©rification...</span>
                            </div>
                        </div>
                    </div>
                    
                    <div id="online-controls" class="controls-section hidden">
                        <div class="expedition-selector">
                            <label for="expedition-select">Choisir une exp√©dition :</label>
                            <select id="expedition-select" class="expedition-select">
                                <option value="">Chargement des exp√©ditions...</option>
                            </select>
                        </div>
                        <div class="expedition-preview" id="expedition-preview">
                        </div>
                        <div class="action-buttons">
                            <button id="activate-expedition-btn" class="action-btn primary" disabled>
                                üöÄ Activer cette Exp√©dition
                            </button>
                        </div>
                    </div>

                    <div id="expedition-controls" class="controls-section hidden">
                        <div class="current-expedition" id="current-expedition">
                        </div>
                        <div class="action-buttons">
                            <button id="restore-original-btn" class="action-btn secondary">
                                üîÑ Retour Mode Online
                            </button>
                            <button id="switch-expedition-btn" class="action-btn primary">
                                üîÄ Changer d'Exp√©dition
                            </button>
                        </div>
                    </div>

                    <div id="error-state" class="error-state hidden">
                        <div class="error-content">
                            <h3>‚ö†Ô∏è Probl√®me de Configuration</h3>
                            <p id="error-message">Une erreur s'est produite</p>
                            <button id="retry-btn" class="action-btn secondary">R√©essayer</button>
                        </div>
                    </div>
                </div>

                <div id="messages-section" class="messages-section">
                    <div id="message-container" class="message-container"></div>
                </div>
            </div>
        </div>

        <div id="loading-screen" class="screen">
            <div class="loading-container">
                <h1>NMS Expedition Manager</h1>
                <div class="loading-spinner"></div>
                <p>Chargement de la configuration...</p>
            </div>
        </div>
    </div>
    
    <!-- Language Switcher (positioned absolutely in top-left) -->
    <div id="language-switcher-container" class="language-switcher-container"></div>
    
    <script src="src/ui/services/I18nService.js"></script>
    <script src="src/ui/helpers/DOMTranslator.js"></script>
    <script src="src/ui/components/LanguageSwitcher.js"></script>
    <script src="renderer.js"></script>
</body>
</html>